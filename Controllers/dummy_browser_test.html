<!DOCTYPE html>
<html>

<head>
    <title>Socket.IO Bid Test</title>
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
</head>

<body>
    <h2>Real-time Bid Tester</h2>

    <input id="roomInput" placeholder="Enter Room ID" />
    <button onclick="joinRoom()">Join Room</button>

    <ul id="log"></ul>

    <script>
        const socket = io();

        function joinRoom() {
            const roomId = document.getElementById('roomInput').value;
            socket.emit('join-room', roomId);
            log(`âœ… Joined room: ${roomId}`);
        }

        socket.on('bid-updated', (data) => {
            console.log("ðŸ“¢ New Bid:", data);
            log(`ðŸ“¢ New bid: ${data.highestBid} on car ${data.carId}`);
        });

        function log(msg) {
            const li = document.createElement('li');
            li.innerText = msg;
            document.getElementById('log').appendChild(li);
        }
    </script>
</body>

</html>